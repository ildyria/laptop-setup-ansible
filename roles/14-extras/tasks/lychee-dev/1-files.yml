---
- name: Create if not exists {{ project_dir }}
  ansible.builtin.file:
    path: '{{ project_dir }}'
    state: directory
    owner: '{{ linux_user }}'
    group: '{{ linux_user }}'
    mode: '0755'
    recurse: true

- name: Check if exists {{ lychee_dir }}
  ansible.builtin.stat:
    path: '{{ lychee_dir }}'
  register: lychee_dir_exists

- name: Clone Lychee
  ansible.builtin.git:
    repo: https://github.com/LycheeOrg/Lychee
    dest: '{{ lychee_dir }}'
  when: not lychee_dir_exists.stat.exists
